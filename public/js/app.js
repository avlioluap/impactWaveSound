function openModal(e){$("#appModal").modal("toggle")}function musicChangeType(e){$("input[name=musicSearchType]").val(e)}function musicAjaxSearch(e,a){return $.ajax({method:"GET",url:"/api/lastfm/search",data:{musicType:e,musicPesquisa:a,musicPage:musicSearchPage},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}})}function musicSearch(){$("#musicSearchForm").submit(function(e){return $("#musicSearchResultsError").css("display","none"),data=$("input[name=musicSearch]").val(),$("#loadingGif").addClass("d-flex").fadeIn(),$("#musicSearchResults").html(""),musicAjaxSearch($("input[name=musicSearchType]").val(),data).done(function(e){"artist"==$("input[name=musicSearchType]").val()&&generateThumbs("artist",e),"album"==$("input[name=musicSearchType]").val()&&generateThumbs("album",e),$("#loadingGif").removeClass("d-flex").fadeOut()}).fail(function(e){var a="";for(datos in e.responseJSON)a+=e.responseJSON[datos]+"<br>";$("#loadingGif").removeClass("d-flex").fadeOut(),$("#musicSearchResultsError .mensagem").html(a),$("#musicSearchResultsError").css("display","flex")}),!1})}function generateThumbs(e,a){var t,s;"artist"==e&&(t=a.results.artistmatches.artist,s="/music/getartistalbums/"),"album"==e&&(t=a.results.albummatches.album,s="/music/getartistalbums/"),t.length>0?$.each(t,function(a,t){var i=deafultBlock.clone().removeClass("hide");i.appendTo("#musicSearchResults"),i.find(".coverImg").attr("src",t.image[3]["#text"]),i.find(".thumbTitle").html(function(){return"artist"==e?t.name:"album"==e?t.artist+"<br>"+t.name:void 0}),i.find(".viewSearch").attr("href",function(){return"artist"==e?s+t.name+"/"+t.mbid:"album"==e?s+t.artist+"/"+t.name:void 0})}):console.log("nenhum resultado")}function openClose(e){"true"==e.parent("li").attr("data-sidebar")&&($("#searchSideBar").is(":hidden")?($("#searchSideBar").removeClass("closed"),$("#mainContentOverlay").show()):($("#searchSideBar").addClass("closed"),$("#mainContentOverlay").hide()))}$(document).ready(function(e){});var musicSearchPage=1,deafultBlock=$("#musicDefaultThumb");$(document).ready(function(e){e("#musicTopMenu a").on("click",function(a){musicChangeType(e(this).attr("href")),e(".nav > a").removeClass("active"),e(this).addClass("active"),a.preventDefault()}),musicSearch()}),$(document).ready(function(e){e(".sidebar-body li a").on("click",function(){openClose(e(this))}),e("#mainContent").click(function(a){e("#searchSideBar").is(":visible")&&(e("#searchSideBar").addClass("closed"),e("#mainContentOverlay").hide())})});