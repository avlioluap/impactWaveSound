function openModal(e){$("#appModal").modal("toggle")}function openCloseSideBar(e){"true"==e.parent("li").attr("data-sidebar")&&($("#searchSideBar").is(":hidden")?($("#searchSideBar").removeClass("closed"),$("#mainContentOverlay").show()):($("#searchSideBar").addClass("closed"),$("#mainContentOverlay").hide()))}function openRightContent(){$("#rightContent").is(":hidden")?($("#rightContent").removeClass("closed"),$("#mainContentOverlay").show()):($("#rightContent").addClass("closed"),$("#mainContentOverlay").hide())}function musicChangeType(e){$("input[name=musicSearchType]").val(e)}function musicAjaxSearch(e,a){return $.ajax({method:"GET",url:"/api/lastfm/search",data:{musicType:e,musicPesquisa:a,musicPage:musicSearchPage},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}})}function musicSearch(){$("#musicSearchForm").submit(function(e){return $("#musicSearchResultsError").css("display","none"),data=$("input[name=musicSearch]").val(),$("#loadingGif").addClass("d-flex").fadeIn(),$("#musicSearchResults").empty(),musicAjaxSearch($("input[name=musicSearchType]").val(),data).done(function(e){"artist"==$("input[name=musicSearchType]").val()&&generateThumbs("artist",e),"album"==$("input[name=musicSearchType]").val()&&generateThumbs("album",e),$("#loadingGif").removeClass("d-flex").fadeOut()}).fail(function(e){var a="";for(datos in e.responseJSON)a+=e.responseJSON[datos]+"<br>";$("#loadingGif").removeClass("d-flex").fadeOut(),$("#musicSearchResultsError .mensagem").html(a),$("#musicSearchResultsError").css("display","flex")}),!1})}function generateThumbs(e,a){var t,s;"artist"==e&&(t=a.results.artistmatches.artist,s="/music/artistalbums/"),"album"==e&&(t=a.results.albummatches.album,s="/music/albuminfo/"),t.length>0?$.each(t,function(a,t){var n=deafultBlock.clone().removeClass("hide");n.appendTo("#musicSearchResults"),n.find(".coverImg").attr("src",t.image[3]["#text"]),n.find(".thumbTitle").html(function(){return"artist"==e?t.name:"album"==e?t.artist+"<br>"+t.name:void 0}),n.find(".viewSearch").attr("href",function(){return"artist"==e?s+t.name.replace(/\s/g,"-")+"/"+t.mbid:"album"==e?s+t.artist.replace(/\s/g,"-")+"/"+t.name.replace(/\s/g,"-"):void 0})}):($("#loadingGif").removeClass("d-flex").fadeOut(),$("#musicSearchResultsError .mensagem").html("No match found."),$("#musicSearchResultsError").css("display","flex"))}$(document).ready(function(e){e(".sidebar-body li a").on("click",function(){openCloseSideBar(e(this))}),e("#mainContent").click(function(a){e("#searchSideBar").is(":visible")&&(e("#searchSideBar").addClass("closed"),e("#mainContentOverlay").hide()),e("#rightContent").is(":visible")&&(e("#rightContent").addClass("closed"),e("#mainContentOverlay").hide())})});var musicSearchPage=1,deafultBlock=$("#musicDefaultThumb");$(document).ready(function(e){e("#musicTopMenu a").on("click",function(a){musicChangeType(e(this).attr("href")),e(".nav > a").removeClass("active"),e(this).addClass("active"),a.preventDefault()}),musicSearch(),e("#musicSearchResults").on("click",".viewSearch",function(){return e("#rightContent").empty(),e("#rightContent").load(e(this).attr("href"),function(){}),openRightContent(),!1})});