function openModal(e){$("#appModal").modal("toggle")}function openCloseSideBar(e){"true"==e.parent("li").attr("data-sidebar")&&($("#searchSideBar").is(":hidden")?($("#searchSideBar").removeClass("closed"),$("#mainContentOverlay").show()):($("#searchSideBar").addClass("closed"),$("#mainContentOverlay").hide()))}function openRightContent(){$("#rightContent").is(":hidden")?($("#rightContent").removeClass("closed"),$("#mainContentOverlay").show()):($("#rightContent").addClass("closed"),$("#mainContentOverlay").hide())}function musicChangeType(e){$("input[name=musicSearchType]").val(e)}function showMusicErrorMsg(e){$("#loadingGif").removeClass("d-flex").fadeOut(),$("#musicSearchResultsError .mensagem").html(e),$("#musicSearchResultsError").css("display","flex")}function musicAjaxSearch(e,a){return $.ajax({method:"GET",url:"/api/lastfm/search",data:{musicType:e,musicPesquisa:a,musicPage:musicSearchPage},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}})}function musicSearch(){$("#musicSearchForm").submit(function(e){return $("#musicSearchResultsError").css("display","none"),data=$("input[name=musicSearch]").val(),$("#loadingGif").addClass("d-flex").fadeIn(),$("#musicSearchResults").empty(),musicAjaxSearch($("input[name=musicSearchType]").val(),data).done(function(e){"artist"==$("input[name=musicSearchType]").val()&&generateThumbs("artist",e),"album"==$("input[name=musicSearchType]").val()&&generateThumbs("album",e),$("#loadingGif").removeClass("d-flex").fadeOut()}).fail(function(e){var a="";for(datos in e.responseJSON)a+=e.responseJSON[datos]+"<br>";showMusicErrorMsg(a)}),!1})}function generateThumbs(e,a){var t,i;nombid=0,"artist"==e&&(t=a.results.artistmatches.artist,i="/music/artistalbums/"),"album"==e&&(t=a.results.albummatches.album,i="/music/albuminfo/"),t.length>0?$.each(t,function(a,t){if(t.mbid.length>0){var n=deafultBlock.clone().removeClass("hide");n.appendTo("#musicSearchResults"),n.find(".coverImg").attr("src",t.image[3]["#text"]),n.find(".thumbTitle").html(function(){return"artist"==e?t.name:"album"==e?t.artist+"<br>"+t.name:void 0}),n.find(".viewSearch").attr("href",function(){return"artist"==e?i+t.name.replace(/\s/g,"-")+"/"+t.mbid:"album"==e?i+t.artist.replace(/\s/g,"-")+"/"+t.name.replace(/\s/g,"-"):void 0}),n.find(".viewSearch").attr("data-cover",t.image[3]["#text"]),mbid=1}}):showMusicErrorMsg("No match found."),nombid>0&&showMusicErrorMsg("No match found.")}function searchRcTable(e){$.each($(".tableTr"),function(a,t){$(this).attr("data-search").search(e.toLowerCase())==-1?$(this).fadeOut():$(this).fadeIn()})}$(document).ready(function(e){e(".sidebar-body li a").on("click",function(){openCloseSideBar(e(this))}),e("#mainContent").click(function(a){e("#searchSideBar").is(":visible")&&(e("#searchSideBar").addClass("closed"),e("#mainContentOverlay").hide()),e("#rightContent").is(":visible")&&(e("#rightContent").addClass("closed"),e("#mainContentOverlay").hide())})});var musicSearchPage=1,deafultBlock=$("#musicDefaultThumb");$(document).ready(function(e){e("#musicTopMenu a").on("click",function(a){musicChangeType(e(this).attr("href")),e(".nav > a").removeClass("active"),e(this).addClass("active"),a.preventDefault()}),musicSearch(),e("#musicSearchResults").on("click",".viewSearch",function(){e("#rightContent").empty();var a=e(this).attr("data-cover");return e("#rightContent").load(e(this).attr("href"),function(){e("#rightContent").find(".artistInfoThumbImg").attr("src",a)}),openRightContent(),!1}),e("#rightContent").on("change paste keypress",":input[name='musicRcFilter']",function(){searchRcTable(e("input[name='musicRcFilter']").val())})});